stages:
    - build
    - style


my_build:
    stage: build
    tags: 
      - build_tag
    script:
      - cd src/cat
      - make s21_cat
      - cd ../grep
      - make s21_grep
    artifacts:
        paths:
          - src/cat/s21_cat
          - src/grep/s21_grep
        expire_in: 30 days

my_style:
    stage: style
    tags:
      - style_tag
    script:
      - cd src/cat
      - make check
      - cd ../grep
      - make check
      - cd ../cat
      - cd ../grep
    allow_failure: false
    after_script:
      - bash check_styletest_output.sh
      - bash check_styletest_output.sh